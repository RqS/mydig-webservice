	<link rel="stylesheet" href="../static/styles/main.css">
	<script src="../static/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
	<link rel="import" href="../static/bower_components/iron-ajax/iron-ajax.html">
	<link rel="import" href="../static/bower_components/paper-dialog/paper-dialog.html">
	
	<link rel="import" href="../static/bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<link rel="import" href="../static/bower_components/paper-input/paper-textarea.html">
	<link rel="import" href="../static/bower_components/iron-form/iron-form.html">
	<link rel="import" href="../static/bower_components/paper-tabs/paper-tab.html">
	<link rel="import" href="../static/bower_components/paper-checkbox/paper-checkbox.html">
	<link rel="import" href="../static/bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
	<link rel="import" href="../static/bower_components/paper-icon-button/paper-icon-button.html">
	<link rel="import" href="../static/bower_components/iron-icons/iron-icons.html">
	<link rel="import" href="../static/bower_components/paper-swatch-picker/paper-swatch-picker.html">
	
	
	<link rel="import" href="../static/bower_components/paper-styles/color.html">
	<link rel="import" href="../static/bower_components/iron-collapse/iron-collapse.html">
	<link rel="import" href="../static/bower_components/paper-card/paper-card.html">
	<link rel="import" href="../static/bower_components/iron-icons/iron-icons.html">
	<link rel="import" href="../static/bower_components/paper-tooltip/paper-tooltip.html">
	
	<link rel="import" href="../static/bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>
	<link rel="import" href="../static/elements/elements.html">
	<!-- <script src="../static/bower_components/moment/min/locales.js"></script>
	<link rel="import" href="../static/bower_components/polymer/polymer.html">
	 --><style is="custom-style" include="shared-styles"></style>
	<style is="custom-style" include="search-styles"></style>
	<link rel="import" href="theme.css">
	
	<script>
	
		var projectName = window.location.href.split('?');
		var dataText;
		var glossariesNewField=[];
		
		
		$( document ).ready(function() {
			showMenu();
			});
		
		function showMenu() {
			  document.getElementById('menuSelector').style.backgroundColor ="rgba(255, 255, 0, 0.22)";
			  document.getElementById('fieldSelector').style.backgroundColor =null;
			  document.getElementById('tagSelector').style.backgroundColor =null;
			  document.getElementById('glossarySelector').style.backgroundColor =null;
			  document.getElementById('tableSelector').style.backgroundColor =null;
				 
			  
			  document.getElementById('entity').opened = false;
		  	  document.getElementById('menu').opened = true;
		  	  document.getElementById('glossary').opened = false;
		  	  document.getElementById('field').opened = false;
		  	  document.getElementById('tables').opened = false;
		}
		
		function showField() {
		  document.getElementById('menuSelector').style.backgroundColor =null;
		  document.getElementById('fieldSelector').style.backgroundColor ="rgba(255, 255, 0, 0.22)";
		  document.getElementById('tagSelector').style.backgroundColor =null;
		  document.getElementById('glossarySelector').style.backgroundColor =null;
		  document.getElementById('tableSelector').style.backgroundColor =null;
			
			  
	  	  document.getElementById('entity').opened = false;
	  	  document.getElementById('glossary').opened = false;
	  	  document.getElementById('field').opened = true;
	  	  document.getElementById('menu').opened = false;
	  	  document.getElementById('tables').opened = false;
	    }
		
		function showTable() {
			  document.getElementById('menuSelector').style.backgroundColor =null;
			  document.getElementById('fieldSelector').style.backgroundColor =null;
			  document.getElementById('tagSelector').style.backgroundColor =null;
			  document.getElementById('glossarySelector').style.backgroundColor =null;
			  document.getElementById('tableSelector').style.backgroundColor ="rgba(255, 255, 0, 0.22)";
				
				  
		  	  document.getElementById('entity').opened = false;
		  	  document.getElementById('glossary').opened = false;
		  	  document.getElementById('field').opened = false;
		  	  document.getElementById('menu').opened = false;
		  	  document.getElementById('tables').opened = true;
		}
		
		var openFile = function (event) {
		    var input = event.target;
		    var reader = new FileReader();
		    reader.onload = function () {
		    	dataText = reader.result;
		       
		    };
		    reader.readAsText(input.files[0]);
		};
		
		function updateFormData() {
			var glossName = document.getElementById('glossary_name').value;
			var file =  document.getElementById("glossary_file").getElementsByTagName("input")[0].files[0];  	 
		   	   	 
		   	 
		   	 var url=backend_url +"projects/"+projectName[1]+"/glossaries/"+glossName;
		   	//------------ 
		   	 var formData = new FormData();
	
		   	 formData.append("glossary_name", glossName);
		   	 formData.append("glossary_file", file); // number 123456 is immediately converted to a string "123456"
				console.log(formData);
		   	 
		   	 var request = new XMLHttpRequest();
		   	 request.open("POST", url);
		   //	request.setRequestHeader("Content-type", "application/json");
		   	request.setRequestHeader("Authorization", "Basic " + btoa(username+":"+password));
			
		   	request.onreadystatechange = function () {
				    if (request.readyState === 4 && request.status === 201) {
				    	 document.getElementById("editGlossariesDialog").toggle();
				    	 document.getElementById("getGlossary").generateRequest();
				   }
				};
			
			 request.send(formData);
			
		}
		
		function submitFormData() {
		 
		 var glossName = document.getElementById('glossary_nameInput').value;
		 var file =  document.getElementById("glossary_fileInput").getElementsByTagName("input")[0].files[0];  	 
	   	 
	   	 var url=backend_url + "projects/"+projectName[1]+"/glossaries";
	   	//------------ 
	   	 var formData = new FormData();
	
	   	 formData.append("glossary_name", glossName);
	   	 formData.append("glossary_file", file); // number 123456 is immediately converted to a string "123456"
			console.log(formData);
	   	 
	   	 var request = new XMLHttpRequest();
	   	 request.open("POST", url);
	   //	request.setRequestHeader("Content-type", "application/json");
	   	request.setRequestHeader("Authorization", "Basic " + btoa(username+":"+password));
		
	   	request.onreadystatechange = function () {
			    if (request.readyState === 4 && request.status === 201) {
			    	
			    	document.getElementById('glossary_nameInput').value="";
			    	document.getElementById("addGlossaryDialog").toggle();
			    	 document.getElementById("getGlossary").generateRequest();
			    }
			    
			};
		
		 request.send(formData);
		}
	    function showEntity() {
	    	
	     document.getElementById('menuSelector').style.backgroundColor =null;
	     document.getElementById('fieldSelector').style.backgroundColor =null;
	     document.getElementById('tagSelector').style.backgroundColor ="rgba(255, 255, 0, 0.22)";
		 document.getElementById('glossarySelector').style.backgroundColor =null;
		 document.getElementById('tableSelector').style.backgroundColor =null;
			
		
	  	  document.getElementById('field').opened = false;
	  	  document.getElementById('glossary').opened = false;
	  	  document.getElementById('entity').opened = true;
	  	  document.getElementById('menu').opened = false;
	  	  document.getElementById('tables').opened = false;
	    }
	    
	    function showGlossary() {
	    	
	      document.getElementById('menuSelector').style.backgroundColor =null;
		  document.getElementById('fieldSelector').style.backgroundColor =null;
		  document.getElementById('tagSelector').style.backgroundColor =null;
		  document.getElementById('glossarySelector').style.backgroundColor ="rgba(255, 255, 0, 0.22)";
		  document.getElementById('tableSelector').style.backgroundColor =null;
		  
		  
	  	  document.getElementById('field').opened = false;
	  	  document.getElementById('entity').opened = false;
	  	  document.getElementById('glossary').opened = true;
	  	  document.getElementById('menu').opened = false;
	  	  document.getElementById('tables').opened = false;
	    }
	    
	    function addNewTag() {
	    	var xhr = new XMLHttpRequest();
	    	var url = backend_url +"projects/"+projectName[1]+"/tags";
	   		var name=document.getElementById("tagNameInput").value;
	   		var description=document.getElementById("tagDescriptionInput").value;
	   		var screenlabel=document.getElementById("tagSceenLabelInput").value;
	   		var positiveprecision=document.getElementById("tagPositiveInput").value;
	   		var negativeprecision=document.getElementById("tagNegativeInput").value;
	   		var inmenu=document.getElementById("tagCheckBoxInput").checked;
	   		
	   		xhr.open("POST", url, true);
	   		xhr.setRequestHeader("Content-type", "application/json");
	   		xhr.setRequestHeader("Authorization", "Basic " + btoa(username+":"+password));
			
	   		xhr.onreadystatechange = function () {
	   		    if (xhr.readyState === 4 && xhr.status === 201) {
	   		    	document.getElementById("addTagsDialog").toggle();
	   		    	document.getElementById("getTags").generateRequest();
	   		    	document.getElementById("tagNameInput").value = "";
	   		   		document.getElementById("tagDescriptionInput").value="";
	   		   		document.getElementById("tagSceenLabelInput").value="";
	   		   		document.getElementById("tagPositiveInput").value="";
	   		   		document.getElementById("tagNegativeInput").value=""
	   		   		document.getElementById("tagCheckBoxInput").checked=false;
	   		   		
	   		   		
	   		    }
	   		};
	   		
	   		var data = JSON.stringify({
	   		  "tag_name": name+"",
	   		  "tag_object": {
	   		    "description": description+"",
	   		    "include_in_menu": inmenu,
	   		    "name": name+"",
	   		    "negative_class_precision": negativeprecision,
	   		    "positive_class_precision": positiveprecision,
	   		    "screen_label":screenlabel
	   		  }
	   		});
	   		
	   		xhr.send(data);
	   		
	      }
	     
	    function addNewField() {
	    	var xhr = new XMLHttpRequest();
	    	var url = backend_url + "projects/"+projectName[1]+"/fields";
	   		var name=document.getElementById("fieldnameinput").value;
	   		var description=document.getElementById("fielddescriptioninput").value;
	   		var screenlabel=document.getElementById("fieldscreenlabelinput").value;
	   		var screen_label_plural = document.getElementById("fieldscreenlabelPluralinput").value;
	   		if(screenlabel == "")screenlabel=name;
	   		if(screen_label_plural =="")screen_label_plural=screenlabel;
	   		
	   		
	   		var color=document.getElementById("fieldcolorinput").value;
	   		var type=document.getElementById("fieldtypeinput").selectedItem.value;
	   		var predefinedExtractor="";
	   		if(document.getElementById("fieldpredefinedExtractor").selectedItem) {
	   			predefinedExtractor = document.getElementById("fieldpredefinedExtractor").selectedItem.value;
	   		}
	   		
	   		var groupname = document.getElementById("fieldgroupnameinput").value;
	   		var icon=document.getElementById("fieldiconinput").value;
	   		var searchimp = parseInt(document.getElementById("fieldsearchinput").selectedItem.value);
	   		var ruleExtractor = document.getElementById("fieldRuleExtractor").checked;
	   		var combinefields=document.getElementById("fieldcombinedfieldsinput").checked;
	   		var facet=document.getElementById("fieldfacetinput").checked;
	   		var link=document.getElementById("fieldlinkinput").selectedItem.value;
	   		var result=document.getElementById("fieldresultinput").selectedItem.value;
	   		var search=document.getElementById("fieldsearchinput2").checked;
	   		var networksearch=document.getElementById("fieldnetworkinput").checked;
	   		var ruleextractTarget = document.getElementById("fieldRuleExtractorTarget").selectedItem.value;
	   		
	   		xhr.open("POST", url, true);
	   		xhr.setRequestHeader("Content-type", "application/json");
	   		xhr.setRequestHeader("Authorization", "Basic " + btoa(username+":"+password));
			
	   		xhr.onreadystatechange = function () {
	   		    if (xhr.readyState === 4 && xhr.status === 201) {
	   		    	addFieldDialog.toggle();
	   		    	document.getElementById("getFields").generateRequest();
	   		    	glossariesNewField=[];
	   		    	document.getElementById("fieldnameinput").value="";
	   		   		document.getElementById("fielddescriptioninput").value="";
	   		   		document.getElementById("fieldscreenlabelinput").value="";
	   		   	    document.getElementById("fieldscreenlabelPluralinput").value="";
	   		   		document.getElementById("fieldcolorinput").value="var(--paper-amber-600)";
	   		   		
	   		   		
	   		   		document.getElementById("fieldgroupnameinput").value="";
	   		   		document.getElementById("fieldiconinput").value="icons:default";
	   		   		document.getElementById("fieldsearchinput").selected="0";
	   		    	document.getElementById("fieldtypeinput").selected="0";
	   		    	document.getElementById("fieldRuleExtractor").checked=false;
	   		    	document.getElementById("fieldpredefinedExtractor").selected="0";
	   		   		
	   		   		document.getElementById("fieldcombinedfieldsinput").checked=false;
	   		   		document.getElementById("fieldfacetinput").checked=false;
	   		   		document.getElementById("fieldlinkinput").selected="0";
	   		   		document.getElementById("fieldresultinput").selected="0";
	   		   		document.getElementById("fieldsearchinput2").checked=false;
	   		   		document.getElementById("fieldnetworkinput").checked=false;
	   		   	    document.getElementById("fieldRuleExtractorTarget").selected="2";
	   		   		
	   		    }
	   		};
	   		
	   		var data = JSON.stringify({
	   		  "field_name": name,
	   		  "field_object": {
	   		    "color": color,
	   		    "combine_fields": combinefields,
	   		    "description": description,
	   		    "glossaries":glossariesNewField,
	   		    "group_name": groupname,
	   		    "icon": icon,
	   		    "name": name,
	   		    "screen_label": screenlabel,
	   		    "screen_label_plural": screen_label_plural,
     		     "search_importance": searchimp,
	   		    "show_as_link": link,
	   		    "show_in_facets": facet,
	   		    "show_in_result": result,
	   		    "show_in_search": search,
	   		    "type": type,
	   		    "use_in_network_search": networksearch,
	   		    "rule_extractor_enabled":ruleExtractor,
	   		    "predefined_extractor":predefinedExtractor,
	   		    "rule_extraction_target":ruleextractTarget
	   		  }
	   		});
	   		
	   		xhr.send(data);
	   		
	      }
	    
	</script>
	<dom-module id="project-details"> 
	<template>
	
			<iron-ajax
			id="inferlink" method="POST" content-type="application/json"
			handle-as="json" on-error="done" on-response="successDone"> </iron-ajax> 
			
			<iron-ajax
			id="etk" method="POST" content-type="application/json"
			handle-as="json" on-error="done" on-response="successDone"> </iron-ajax> 
			
			<iron-ajax
			id="etkGet" method="GET" content-type="application/json"
			handle-as="json" on-response="etkdetails" on-error="done"> </iron-ajax> 
			
			<iron-ajax
			id="publish" method="POST" content-type="application/json"
			handle-as="json" on-error="done"> </iron-ajax> 
			
		  <iron-ajax
			id="getTags" method="GET" content-type="application/json"
			handle-as="json" on-response="fillTags" on-error="done"> </iron-ajax> 
			
			 <iron-ajax
			id="deleteTags" method="DELETE" content-type="application/json"
			handle-as="json" on-response="updateDone" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="updateSavedTags" method="POST" content-type="application/json"
			handle-as="json" on-response="updateDone" on-error="done"> </iron-ajax>
			
		
			<iron-ajax
			id="getFields" method="GET" content-type="application/json"
			handle-as="json" on-response="fillFields" on-error="done"> </iron-ajax> 
			
			
			<iron-ajax
			id="deleteFields" method="DELETE" content-type="application/json"
			handle-as="json" on-response="updateDone" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="updateSavedFields" method="POST" content-type="application/json"
			handle-as="json" on-response="updateDone" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="getGlossary" method="GET" content-type="application/json"
			handle-as="json" on-response="fillGlossary" on-error="done"> </iron-ajax> 
			
			<iron-ajax
			id="deleteGlossaries" method="DELETE" content-type="application/json"
			handle-as="json" on-response="deletedGlossary" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="updateSavedGlossary" method="POST" content-type="application/json"
			handle-as="json" on-response="updateDone" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="getAction1" method="GET" content-type="application/json"
			handle-as="json" on-response="getTLDInferlink" on-error="done"> </iron-ajax>
			
			
			<iron-ajax
			id="editTag" method="GET" content-type="application/json"
			handle-as="json" last-response="{{tagForm}}" on-error="done"> </iron-ajax>
			
			
			<iron-ajax
			id="editField" method="GET" content-type="application/json"
			handle-as="json" on-response="setEditFieldForm" on-error="done"> </iron-ajax>
			
			<iron-ajax
			id="updateIndex" method="POST" content-type="application/json"
			handle-as="json" on-error="done" on-response="successDoneIndex"> </iron-ajax>
			
			<iron-ajax
			id="downloadGlossary" method="GET" content-type="text/plain"
			 on-error="done" on-response="downloadGlossaryCall"> </iron-ajax>
		
			<iron-ajax
			id="editSpacyRules" method="GET" content-type="application/json"
			 on-error="showSpacyRuleDummy" on-response="fieldSpacyRules"> </iron-ajax>
			 
			 <iron-ajax
			id="updateSpacyRules" method="POST" content-type="application/json"
			 on-error="done" on-response="updateDone"> </iron-ajax>
			 
			 
			 <iron-ajax
			id="tableAttributes" method="GET" content-type="application/json"
			 on-error="done" on-response="setTableAttributes"> </iron-ajax>
			 
			 <iron-ajax
			id="updateTableAttribute" method="POST" content-type="application/json"
			 on-error="done" on-response="updateDone"> </iron-ajax>
			
		 <paper-toolbar> <img src="../static/images/dig-logo-original.png" alt=""></paper-toolbar>
			  <paper-header-panel>
			  
	          <section class="adjustProjectSection">
	            <div class="search-results-header">
	              <div class="paper-font-title flex">DIG Projects</div>
	            </div>
	            <div class="h-divider"></div>
	          </section>
	          </paper-header-panel>
	          <h3 style="padding:0em;margin-left:10px" class="projectNameValue"></h3>
			   <script>document.querySelector('.projectNameValue').innerHTML = projectName[1];</script>
	         
	         <paper-material id="projectOpenDialog" class="paperMaterialStyle">
			<paper-tabs selected="0" noink style="width:100%"> 
			<paper-tab class="paperTabs" id="menuSelector" onclick="showMenu()">Actions</paper-tab>
			<paper-tab class="paperTabs" id="tableSelector" onclick="showTable()">Tables</paper-tab>
			<paper-tab class="paperTabs" id="fieldSelector" onclick="showField()">Fields</paper-tab> 
			<paper-tab class="paperTabs" id="tagSelector" onclick="showEntity()">Tags</paper-tab>
			<paper-tab class="paperTabs" id="glossarySelector" onclick="showGlossary()">Glossaries</paper-tab>
			</paper-tabs>
			
			<iron-collapse id="menu" style="margin-left:20px;">
				<paper-material class="addPaddingToSections">
					<br><br>
					<div>
						
						<h3><strong>Get Sample Pages</strong></h3>
						<br>
						<span><i>Lorem Ipsum is simply dummy text of the printing and 
						typesetting industry. Lorem Ipsum has been the industry's standard dummy 
						text ever since the 1500s, when an unknown printer took a galley of type 
						and scrambled it to make a type specimen book. It has survived not only 
						five centuries, but also the leap into electronic typesetting, remaining 
						essentially unchanged</i></span>
						<br><br>
						<div>
						<strong>Number of Pages per TLD</strong>
						<input type="number" value="200" class="projectInputStyle" id="perPage"></input> 
						<strong style="padding-left:80px">Number of Pages for Extra TLD</strong>
						<input value="0" type="number" class="projectInputStyle" id="extraPage"></input> 
						</div>
						<br><br>
						<paper-button raised id="sample_pages" on-tap="inferlinkGet"
						style="clear:left"> <span> <strong>Show TLDs Data</strong> </span></paper-button>
						<a target="_blank" href="http://ec2-54-174-0-124.compute-1.amazonaws.com:3333/"> Link to Inferlink Tool</a>
						<div style="float: right">
							<paper-button raised id="get_sample_pages" on-tap="inferlink"
						style="clear:left"> <strong>Go</strong></paper-button>
						</div>
						
					</div>
					<br><br>
					</paper-material>
					<paper-material class="addPaddingToSections">
					<br><br>
					<div>
						
						<h3><strong>Publish</strong></h3>
						<br>
						<span><i>This will publish To GitHub</i></span>
						<div>
						
						</div>
						<div style="float: right">
							<paper-button raised id="publish" on-tap="publish"
						style="clear:left"> <strong>Go</strong></paper-button>
						</div>
						
					</div>
					<br><br>
					</paper-material>
				
				
					<paper-material class="addPaddingToSections">
					<br><br>
					<div>
						
						<h3><strong>Extract Load/Test Data </strong></h3>
						<br>
						<span><i>Lorem Ipsum is simply dummy text of the printing and 
						typesetting industry. Lorem Ipsum has been the industry's standard dummy 
						text ever since the 1500s, when an unknown printer took a galley of type 
						and scrambled it to make a type specimen book. It has survived not only 
						five centuries, but also the leap into electronic typesetting, remaining 
						essentially unchanged</i></span>
						<br><br>
						<div>
							<paper-button raised on-tap="etkStatus"
						style="clear:left"> <strong> Get ETK Status</strong></paper-button>
							<strong>Running: </strong>{{etkFields.is_running}}
							<strong style="margin-left:20px">Last Message: </strong>{{etkFields.last_message}}
						</div> 
						<div style="float: right">
							<paper-button raised on-tap="etk"
						style="clear:left"> <strong>Go</strong></paper-button>
						</div>
						
					</div>
					<br><br>
					</paper-material>
					<paper-material class="addPaddingToSections">
					<br><br>
					<div>
						
						<h3><strong>Update to new Index</strong></h3>
						<br>
						<span><i>This will update to new Index</i></span>
						<div>
						
						</div>
						<div style="float: right">
							<paper-button raised  on-tap="updateToNewIndex"
						style="clear:left"> <strong>Go</strong></paper-button>
						</div>
						
					</div>
					<br><br>
					</paper-material>
					
			</iron-collapse>
			<iron-collapse id="field">
			
			
					<div style="margin-bottom: 2em;">
					<br>
					<paper-button on-tap="addNewFieldSetup" raised
						style="float:right"> <strong>Add Field</strong></paper-button>
					<br> <br>
					<template is="dom-repeat" items="{{fields}}">
				<paper-material class="addPaddingToSections">
				<div style="padding: 8px;">
					<paper-button on-tap="editFieldFunction" raised
						style="float:right"> <strong>Edit</strong></paper-button>
					<paper-button on-tap="sureToDeleteDialogFunction" raised
						style="float:right"> <strong>Delete</strong></paper-button>
					<h3><strong disabled="disabled"> {{item.0.name}}</strong></h3>
				</div>
				<div style="padding: 8px;">
					<strong disabled="disabled">Label:</strong> {{item.0.screen_label}}
					<strong style="margin-left:20px" disabled="disabled">Label Plural:</strong> {{item.0.screen_label_plural}}
		
				</div>
				<div style="padding: 8px;">
					<strong disabled="disabled">Description:</strong>
					{{item.0.description}}
				</div>
				<div style="padding: 8px;">
					<strong disabled="disabled">Color:</strong>
					{{item.0.color}}
					<strong style="margin-left:20px" disabled="disabled">Icon:</strong>
					{{item.0.icon}}
				</div>
				<div style="padding: 8px;">
					<strong disabled="disabled">Group Name:</strong>
					{{item.0.group_name}}
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Number of Extraction Rules:</strong>
					{{item.0.number_of_rules}}
					<strong style="margin-left:53px" disabled="disabled">Rule Extraction Target:</strong>
					{{item.0.rule_extraction_target}}
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Type:</strong>
					{{item.0.type}}
				</div>
				<div style="padding: 8px;">
					<strong disabled="disabled">Search Importance:</strong>
					{{item.0.search_importance}}
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Show as Link:</strong>
					{{item.0.show_as_link}}
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Predefined Extractor:</strong>
					{{item.0.predefined_extractor}}
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Show in Result:</strong>
					{{item.0.show_in_result}}
				</div>
				
				<div style="padding: 8px;">
					<paper-checkbox disabled="disabled" checked="{{item.0.combine_fields}}">Combine Fields</paper-checkbox>
					<paper-checkbox disabled="disabled" checked="{{item.0.show_in_facets}}"
						style="float:center;margin-left:53px;">Show in Facets</paper-checkbox>
					<paper-checkbox disabled="disabled" style="float:center;margin-left:53px;" checked="{{item.0.rule_extractor_enabled}}"> Rule Extractor Enabled</paper-checkbox>
					
				</div>
				<div style="padding: 8px;">
					<paper-checkbox disabled="disabled" checked="{{item.0.show_in_search}}">Show in Search</paper-checkbox>
					<paper-checkbox disabled="disabled" checked="{{item.0.use_in_network_search}}"
						style="float:center;margin-left:53px;">Use in Network Search</paper-checkbox>
				</div>
				
				<div style="padding: 8px;">
					<strong disabled="disabled">Glossaries:</strong>
					<template is="dom-repeat" items="{{item.0.glossaries}}">
						{{item}} &nbsp
					</template>
				</div>
				</paper-material> </template>
			</div>
					
			
			
			</iron-collapse>
			<iron-collapse id="entity">
					<div style="margin-bottom: 2em;">
					<br>
					<paper-button onclick="addTagsDialog.toggle()" raised
						style="float:right"> <strong>Add Tag</strong></paper-button>
					<br> <br>
					<template is="dom-repeat" items="{{tags}}">
					<paper-material class="addPaddingToSections">
					<div>
						<strong>Name:</strong> {{item.0.name}}
						<div style="float: right">
							<paper-button on-tap="deleteTagsFunction" raised> <strong>Delete</strong></paper-button>
							<paper-button on-tap="editTagFunction" raised>
							<strong>Edit</strong></paper-button>
						</div>
						<br>
						<div>
							<br> <strong style="clear: left">Label:</strong>
							{{item.0.screen_label}}
						</div>
						<div>
						
							<br>	<strong style="clear: left">Description:</strong>
							{{item.0.description}}
						</div>
						<div>
							<br> <strong style="clear: left">Negative class precision:</strong>
							{{item.0.negative_class_precision}}
							<strong style="margin-left: 17em">Positive class precision:</strong>
							{{item.0.positive_class_precision}}
						</div>
						<div>
							<br>
						<paper-checkbox disabled="disabled" checked="{{item.0.include_in_menu}}"><strong>Include in Menu</strong>
						</paper-checkbox>
						</div>
						
						<br>
					</div>
					</paper-material> 
					</template>
					</div>
			</iron-collapse>
			<iron-collapse id="glossary">
			
				<div style="margin-bottom: 2em;">
					<br>
					<paper-button onclick="addGlossaryDialog.toggle()" raised
						style="float:right"> <strong>Add Glossary</strong></paper-button>
					<br> <br>
					<template is="dom-repeat" items="{{glossaries}}">
					<paper-material class="addPaddingToSections">
					<br><br>
					<div>
						
						<strong>Name:</strong> {{item.0}}
						<div style="float: right">
							<paper-button on-tap="editGlossaryFunction" raised>
							<strong>Edit</strong></paper-button>
							<paper-button on-tap="downloadGlossaryFunction" raised> <strong>Download</strong></paper-button>
							<paper-button on-tap="deleteGlossaryFunction" raised> <strong>Delete</strong></paper-button>
							
						</div>
						
					</div>
					<br><br>
					</paper-material> 
					</template>
				</div>
			
			</iron-collapse>
			<iron-collapse id="tables">
			
			<table class="paperDatableClass">
				<tr>
					<th style="width:20%;border: 1.5px solid black;">Attribute</th>
					<th style="width:30%;border: 1.5px solid black;">Field</th>
					<th style="border: 1.5px solid black;">Values</th>
				</tr>
				<template is="dom-repeat" items="{{tableAttributes}}" as="item">
		   		<tr>
			        <td><paper-item  value={{item}}>{{item.0.name}}</paper-item></td>
			        <td>
			        	<paper-dropdown-menu style="margin:0px;margin-left: 2em;padding-bottom: 15px" class="projectInputStyle">
					        <paper-menu id="tableFieldInput" on-iron-select="_itemSelected" class="dropdown-content" selected="{{_getTableDropDown(item.0.field_name)}}">
					            <template is="dom-repeat" items="{{fieldNames}}" as="item">
					                <paper-item  value={{item}}>{{item}}</paper-item>
					            </template>
					        </paper-menu>
		       			</paper-dropdown-menu>
			        
			        </td>
			        <td>
				        <template is="dom-repeat" items="{{item.0.value}}" as="item">
			                {{item}} &nbsp
			            </template>
			        
			        </td>
		     		
				</tr>
				</template>
			  	
			</table>
			</iron-collapse>
		
		
		
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="addTagsDialog" class="OtherDialogStyles">
	
				<paper-input auto-validate pattern="[A-Za-z0-9_]*" maxlength="255" required class="projectInputStyle" label="Name:*" id="tagNameInput"></paper-input> 
				<paper-input class="projectInputStyle" label="Screen Label:" id="tagSceenLabelInput"></paper-input> 
				<paper-input class="projectInputStyle" label="Description" id="tagDescriptionInput"></paper-input> 
				<paper-input class="projectInputStyle" label="Negative class precision" id="tagNegativeInput"></paper-input> 
				<paper-input class="projectInputStyle" label="Positive class precision" id="tagPositiveInput"></paper-input> 
				<paper-checkbox class="projectInputStyle" id="tagCheckBoxInput">Include in Menu</paper-checkbox> 
					<br>
					<paper-button
					style="float:center;margin-top:20px;margin-left:10px;"
					onclick="addNewTag()" raised> <strong>Save</strong></paper-button>
				<paper-button style="float:center;margin-top:20px"
					dialog-dismiss raised> <strong>Cancel</strong></paper-button>
			</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="editTagsDialog" class="OtherDialogStyles">
				<h2>Tag : {{tagForm.name}}</h2>
				<paper-input class="projectInputStyle" label="Screen Label:" value="{{tagForm.screen_label}}"></paper-input> 
				<paper-input class="projectInputStyle" label="Description" value="{{tagForm.description}}"></paper-input> 
				<paper-input class="projectInputStyle" label="Negative class precision" value="{{tagForm.negative_class_precision}}"></paper-input> 
				<paper-input class="projectInputStyle" label="Positive class precision" value="{{tagForm.positive_class_precision}}"></paper-input> 
				<paper-checkbox class="projectInputStyle" checked="{{tagForm.include_in_menu}}">Include in Menu</paper-checkbox> 
					<br>
					<paper-button
					style="float:center;margin-top:20px;margin-left:10px;"
					on-tap="updateTag" raised> <strong>Save</strong></paper-button>
				<paper-button style="float:center;margin-top:20px"
					dialog-dismiss raised> <strong>Cancel</strong></paper-button>
			</paper-dialog> 
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="addFieldDialog" class="FieldDialogStyles">
				<paper-input auto-validate pattern="[A-Za-z0-9_]*" maxlength="255"  style="margin:0px;" required class="" label="Name:*" id="fieldnameinput"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="fieldnameinput" >The name of a field, cannot be changed</paper-tooltip>
				
				<paper-input style="margin:0px;" class="projectInputStyle" label="Description:" id="fielddescriptioninput"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="fielddescriptioninput" >A description of the field</paper-tooltip>
				
				<paper-input style="margin:0px;float:left" class="projectInputStyle" label="Screen Label:" id="fieldscreenlabelinput"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="fieldscreenlabelinput" >The text to display the field in DIG</paper-tooltip>
				
				<paper-input style="margin:0px;" required class="" label="Screen Label Plural:" id="fieldscreenlabelPluralinput"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="fieldscreenlabelPluralinput" >Label when a field contains multiple values</paper-tooltip>
				<div style="margin-top:0px;">
				     <paper-swatch-picker id="colorSelect" on-iron-select="_getColor" column-count=2 style="float:right" on-tap="_getColor"
			       color-list="[&quot;#ffb300&quot;, &quot;#1e88e5&quot;, &quot;#546e7a&quot;, &quot;#6d4c41&quot;, &quot;#00acc1&quot;, &quot;#f4511e&quot;, &quot;#5e35b1&quot;, &quot;#43a047&quot;, &quot;#1b5e20&quot;, &quot;#757575&quot;, &quot;#3949ab&quot;, &quot;#039b35&quot;, &quot;#7cb342&quot;, &quot;#c0ca33&quot;, &quot;#fb8c00&quot;, &quot;#d81b60&quot;, &quot;#8e24aa&quot;, &quot;#e53935&quot;, &quot;#b71c1c&quot;, &quot;#00897b&quot;, &quot;#fdd835&quot;]"></paper-swatch-picker>
			  	<paper-input style="margin:0px;" label="Color:" id="fieldcolorinput" value="{{_getColor()}}"></paper-input> 
				</div>
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="fieldcolorinput">The color used to display the field in DIG</paper-tooltip>
				
				<paper-input style="margin:0px;" class="projectInputStyle" label="Group name:" id="fieldgroupnameinput"></paper-input> 
				<div style="margin-top:0px;">
						<paper-button style="float:right" onclick="papericonSet.toggle()" raised> <strong>Get Icon</strong></paper-button>
						<paper-input style="margin:0px;"  label="Icon:" id="fieldiconinput" value="icons:default"></paper-input>
			
				</div>
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="fieldiconinput" >The icon to decorate the field in DIG</paper-tooltip>
				
				<paper-dropdown-menu id="searchDropdown" style="margin:0px;" class="projectInputStyle" label="Search Importance*:">
		        <paper-menu id="fieldsearchinput"  class="dropdown-content" selected="0">
		            <template is="dom-repeat" items="{{searchImportance}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="searchDropdown" >High numbers make results matching in a field push documents up in the ranking</paper-tooltip>
				
				
				<paper-dropdown-menu id="typeDropDown" style="margin:0px;" class="projectInputStyle" label="Type*:">
		        <paper-menu id="fieldtypeinput"  class="dropdown-content" selected="0">
		            <template is="dom-repeat" items="{{type}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="typeDropDown" >Affects the appearance as well as search behavior</paper-tooltip>
				
		       
		       <paper-dropdown-menu id="linkDropDown" style="margin:0px;" class="projectInputStyle" label="Show as Links*:">
		        <paper-menu id="fieldlinkinput"  class="dropdown-content" selected="0">
		            <template is="dom-repeat" items="{{show_as_linkArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="linkDropDown" >Specifies the appearance of the field</paper-tooltip>
				
				
				<paper-dropdown-menu id="resultDropDown" style="margin:0px;" class="projectInputStyle" label="Show in Results*:">
		        <paper-menu id="fieldresultinput"  class="dropdown-content" selected="0">
		            <template is="dom-repeat" items="{{show_in_resultArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="resultDropDown">Location where the field appears in the results page</paper-tooltip>
				
		       <paper-dropdown-menu id="predefinedExtractorDropDown" style="margin:0px;" class="projectInputStyle" label="Predefined Extractor:">
		        <paper-menu id="fieldpredefinedExtractor"  class="dropdown-content" selected="0">
		            <template is="dom-repeat" items="{{predefined_extractor_Array}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="predefinedExtractorDropDown" >Specifies a default extractor to use for a field</paper-tooltip>
				
		       <paper-dropdown-menu id="ruleExtractorDropDown" style="margin:0px;" class="projectInputStyle" label="Rule Extraction Target:">
		        <paper-menu id="fieldRuleExtractorTarget"  class="dropdown-content" selected="2">
		            <template is="dom-repeat" items="{{extractionTargetArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="ruleExtractorDropDown" >When true, use the custom rule extractor for this field, if one is defined</paper-tooltip>
				
		       <div>
				<paper-checkbox class="projectInputStyle" id="fieldcombinedfieldsinput">Combine Fields</paper-checkbox> 
				
				<paper-checkbox class="projectInputStyle" id="fieldfacetinput">Show in Facets</paper-checkbox> 
				<paper-tooltip for="fieldfacetinput">When true, the field appears in the facets section</paper-tooltip>
				
				<paper-checkbox class="projectInputStyle" id="fieldnetworkinput">Show in Network Search</paper-checkbox> 
				<paper-tooltip for="fieldnetworkinput" >Support network creation using the values from a field</paper-tooltip>
				
				
				<paper-checkbox class="projectInputStyle" id="fieldsearchinput2">Show in Search</paper-checkbox> 
				<paper-tooltip for="fieldsearchinput2">When true, the field appears in the query form</paper-tooltip>
				
				
				<paper-checkbox class="projectInputStyle" id="fieldRuleExtractor">Rule Extractor Enabled</paper-checkbox> 
				<paper-tooltip for="fieldRuleExtractor" >When true, use the custom rule extractor for this field, if one is defined</paper-tooltip>
				
				</div>
				<br>
								<paper-button style="float:center;margin-top:20px"
					on-tap="getFieldGlossariesForAdd"  raised> <strong>Glossaries</strong></paper-button>
		
					<paper-button
					style="float:center;margin-top:20px;margin-left:10px;"
					onclick="addNewField()" raised> <strong>Save</strong></paper-button>
				<paper-button style="float:center;margin-top:20px"
					dialog-dismiss raised> <strong>Cancel</strong></paper-button>
					
				</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="editGlossariesDialog" class="FieldDialogStyles">
			<form is="iron-form" content-type="multipart/form-data" id="formD" on-iron-form-presubmit="onPresubmit" method="POST">
					<h2>Glossary : {{glossaryForm}}</h2>
					<paper-input type="hidden" id="glossary_name" value="{{glossaryForm}}"></paper-input>
	      	
					<paper-input type="file" id="glossary_file" id="input" onchange='openFile(event)'></paper-input>
	      		<paper-button raised onclick="updateFormData()">Submit</paper-button>
				</form>
			</paper-dialog>
			
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="EditFieldGlossaries" class="FieldDialogStyles">
				<paper-button style="float:right;"
					dialog-dismiss raised on-tap="saveTempGlossaries"> <strong>X</strong></paper-button>
				<br><br><br>
				<template is="dom-repeat" items="{{glossaries}}">
					<paper-material class="addPaddingToSections">
					<div>
						
						<strong>Name:</strong> {{item.0}}
						<div style="float: right">
							<paper-checkbox id="{{item.0}}" raised value=""> <strong>Use</strong></paper-button>
							</div>
						
					</div>
					</paper-material> 
					</template>
			</paper-dialog>
			
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="spacyRulesDialog" class="FieldDialogStyles">
			
					<paper-material class="addPaddingToSections">
					<div>
					<textarea id="spacyRulesTextArea" style="margin: 0px;width:100%;height: 34em;resize:none"></textarea>
					</div>
					</paper-material> 
					<div style="float:right">
					<paper-button
					style="float:center;margin-top:20px;margin-left:10px;"
					on-tap="updateFieldSpacyRules" raised> <strong>Save</strong></paper-button>
				<paper-button style="float:center;margin-top:20px"
					dialog-dismiss raised> <strong>Cancel</strong></paper-button>
					</div>
			</paper-dialog>
			
			
			
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="showTLDsDialog" style="width:22em">
 
				  <paper-dialog-scrollable>
				  	
  					 <div>
  					 <table style="width:100%"> 
  					 <tr>
					    <th>URL</th>
					    <th>Pages</th>
					  </tr>
				   	<template is="dom-repeat" items="{{tldResponse}}">
						<tr>
						    <td>{{item.0}}</td>
						    <td>{{item.1}}</td>
						</tr>
					</template>
				   	 </table>
				   	 </div>
				  </paper-dialog-scrollable>
				  
				  </paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="editFieldsDialog" class="FieldDialogStyles">
				<div>
				<paper-button style="float:right;"
					on-tap="editRules" raised> <strong>Edit Rules</strong></paper-button>
				<h2>Field : {{fieldForm.name}}</h2>
				
				</div>
				<paper-input id="descriptionField" style="margin:0px;" class="projectInputStyle" label="Description:" value="{{fieldForm.description}}"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="descriptionField" >A description of the field</paper-tooltip>
				
				
				<paper-input id="screenLabelField" style="margin:0px;" class="projectInputStyle" label="Screen Label:" value="{{fieldForm.screen_label}}"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="screenLabelField" >The text to display the field in DIG</paper-tooltip>
				
				<paper-input id="screenLabelPluralField" style="margin:0px;" required class="" label="Screen Label Plural:" value="{{fieldForm.screen_label_plural}}"></paper-input> 
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="screenLabelPluralField" >Label when a field contains multiple values</paper-tooltip>
				
				<div style="margin-top:0px;">
				     <paper-swatch-picker id="colorSelect2" on-iron-select="_getEditColor" column-count=2 style="float:right" on-tap="_getEditColor" color="{{_getColorSelected(fieldForm.color)}}"
			       color-list="[&quot;#ffb300&quot;, &quot;#1e88e5&quot;, &quot;#546e7a&quot;, &quot;#6d4c41&quot;, &quot;#00acc1&quot;, &quot;#f4511e&quot;, &quot;#5e35b1&quot;, &quot;#43a047&quot;, &quot;#1b5e20&quot;, &quot;#757575&quot;, &quot;#3949ab&quot;, &quot;#039b35&quot;, &quot;#7cb342&quot;, &quot;#c0ca33&quot;, &quot;#fb8c00&quot;, &quot;#d81b60&quot;, &quot;#8e24aa&quot;, &quot;#e53935&quot;, &quot;#b71c1c&quot;, &quot;#00897b&quot;, &quot;#fdd835&quot;]"></paper-swatch-picker>
			  	<paper-input id="colorField" style="margin:0px;" class="projectInputStyle" label="Color:" value="{{fieldForm.color}}"></paper-input> 
				</div>
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="colorField" >The color used to display the field in DIG</paper-tooltip>
				
				
				<paper-input style="margin:0px;" class="projectInputStyle" label="Group name:" value="{{fieldForm.group_name}}"></paper-input> 
				<div style="margin-top:0px;">
					<paper-button style="float:right" onclick="papericonEditSet.toggle()" raised> <strong>Get Icon</strong></paper-button>
					<paper-input id="iconField" style="margin:0px;"  label="Icon:" value="{{fieldForm.icon}}"></paper-input> 
				</div>
				<paper-tooltip fit-to-visible-bounds="true" position="left" for="iconField" >The icon to decorate the field in DIG</paper-tooltip>
				
				
				<paper-dropdown-menu id="searchFieldEdit" style="margin:0px;" class="projectInputStyle" label="Search Importance*:">
		        <paper-menu id="editSearchImpValue" selected="{{_getSearchImportance(fieldForm.search_importance)}}" class="dropdown-content" >
		            <template is="dom-repeat" items="{{searchImportance}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="searchFieldEdit" >High numbers make results matching in a field push documents up in the ranking</paper-tooltip>
				
				
				<paper-dropdown-menu id="typeFieldEdit" style="margin:0px;" class="projectInputStyle" label="Type*:">
		        <paper-menu id="editTypeValue" selected="{{_getType(fieldForm.type)}}" class="dropdown-content" >
		            <template is="dom-repeat" items="{{type}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="typeFieldEdit" >Affects the appearance as well as search behavior</paper-tooltip>
				
		       
		       <paper-dropdown-menu id="linkFieldEdit" style="margin:0px;" class="projectInputStyle" label="Show as Links*:">
		        <paper-menu id="editlinkValue" selected={{_getLink(fieldForm.show_as_link)}} class="dropdown-content" >
		            <template is="dom-repeat" items="{{show_as_linkArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="linkFieldEdit" >Specifies the appearance of the field</paper-tooltip>
				
				
				
				<paper-dropdown-menu id="resultFieldEdit" style="margin:0px;" class="projectInputStyle" label="Show in Results*:">
		        <paper-menu id="editResultValue" selected={{_getResult(fieldForm.show_in_result)}}  class="dropdown-content" >
		            <template is="dom-repeat" items="{{show_in_resultArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="resultFieldEdit" >Location where the field appears in the results page</paper-tooltip>
				
		       
		       <paper-dropdown-menu id="predefinedFieldEdit" style="margin:0px;" class="projectInputStyle" label="Predefined Extractor:">
		        <paper-menu id="editfieldpredefinedExtractor"  selected={{_getPredefinedExtractor(fieldForm.predefined_extractor)}} class="dropdown-content" >
		            <template is="dom-repeat" items="{{predefined_extractor_Array}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="predefinedFieldEdit" >Specifies a default extractor to use for a field</paper-tooltip>
				
		       
		       <paper-dropdown-menu id="ruleExtractFieldEdit" style="margin:0px;" class="projectInputStyle" label="Rule Extraction Target:">
		        <paper-menu id="editRuleExtractionTargetValue"  selected={{_getExtractorTarget(fieldForm.rule_extraction_target)}} class="dropdown-content" >
		            <template is="dom-repeat" items="{{extractionTargetArray}}" as="item">
		                <paper-item  value={{item}}>{{item}}</paper-item>
		            </template>
		        </paper-menu>
		       </paper-dropdown-menu>
		       <paper-tooltip fit-to-visible-bounds="true" position="top" for="ruleExtractFieldEdit" >When true, use the custom rule extractor for this field, if one is defined</paper-tooltip>
				
		       
		       <div>
				
				
				
				<paper-checkbox id="combineEditField" class="projectInputStyle" checked="{{fieldForm.combine_fields}}">Combine Fields</paper-checkbox> 
				
				
				<paper-checkbox id="facetFieldEdit" class="projectInputStyle" checked="{{fieldForm.show_in_facets}}">Show in Facets</paper-checkbox> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="facetFieldEdit" >When true, the field appears in the facets section</paper-tooltip>
				
				<paper-checkbox id="networkFieldEdit" class="projectInputStyle" checked="{{fieldForm.use_in_network_search}}">Show in Network Search</paper-checkbox> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="networkFieldEdit" >Support network creation using the values from a field</paper-tooltip>
				
				<paper-checkbox id="searcheditField2" class="projectInputStyle" checked="{{fieldForm.show_in_search}}">Show in Search</paper-checkbox> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="searcheditField2" >When true, the field appears in the query form</paper-tooltip>
				
				<paper-checkbox id="ruleExtractorEditField" class="projectInputStyle" checked="{{fieldForm.rule_extractor_enabled}}">Rule Extractor Enabled</paper-checkbox> 
				<paper-tooltip fit-to-visible-bounds="true" position="top" for="ruleExtractorEditField" >When true, use the custom rule extractor for this field, if one is defined</paper-tooltip>
				
				</div>
				<br>
								<paper-button style="float:center;margin-top:20px"
					on-tap="getFieldGlossary" raised> <strong>Glossaries</strong></paper-button>
		
					<paper-button
					style="float:center;margin-top:20px;margin-left:10px;"
					on-tap="updateField" raised> <strong>Save</strong></paper-button>
				<paper-button style="float:center;margin-top:20px"
					dialog-dismiss raised> <strong>Cancel</strong></paper-button>
			
			</paper-dialog>
			
			
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="addGlossaryDialog" class="GlossaryDialogStyles">
					<paper-input auto-validate pattern="[A-Za-z0-9_]*" maxlength="255" style="margin:0px;" id="glossary_nameInput" class="projectInputStyle" label="Glossary Name:*"></paper-input> 
				    <paper-input type="file" id="glossary_fileInput"></paper-input>
	      		<paper-button raised onclick="submitFormData()">Submit</paper-button>
				
			</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="modalDialog" modal>
			 <paper-button dialog-confirm autofocus> Error.</paper-button>
			 <div class="buttons">
			    <paper-button dialog-dismiss>Close</paper-button>
			 </div>
	  		</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="modalDialogSuccess" modal>
			 <paper-button dialog-confirm autofocus> Request Submitted  with Success</paper-button>
	  		 <div class="buttons">
			    <paper-button dialog-dismiss>Close</paper-button>
			 </div>
	  		</paper-dialog>
	  		
	  		<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="modalDialogSuccessIndex" modal>
			 <paper-button dialog-confirm autofocus> Search Index switched to Newest Index</paper-button>
	  		 <div class="buttons">
			    <paper-button dialog-dismiss>Close</paper-button>
			 </div>
	  		</paper-dialog>
	  		
	  		<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="sureToDeleteDialog" modal>
			 <paper-button autofocus> Deleting Field : {{fieldName}}. Cannot be undone!!</paper-button>
	  		 <div class="buttons">
	  		 	<paper-button on-tap="deleteFieldFunction">Delete</paper-button>
			    <paper-button dialog-dismiss>Close</paper-button>
			 </div>
	  		</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="papericonSet">
				<iron-meta type="iconset" list="{{iconsets}}"></iron-meta>
				
				<template is="dom-repeat" items="{{iconsets}}">
			      <div class="set">
			        <template is="dom-repeat" items="{{getIconNames(item)}}">
			          <span class="container">
			            <iron-icon icon="{{item}}" on-tap="setIcon"></iron-icon>
			          </span>
			        </template>
			      </div>
			    </template>
				<paper-button style="float:right" dialog-dismiss>Close</paper-button>
			</paper-dialog>
			
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="papericonEditSet">
				<iron-meta type="iconset" list="{{iconsets}}"></iron-meta>
				
				<template is="dom-repeat" items="{{iconsets}}">
			      <div class="set">
			        <template is="dom-repeat" items="{{getIconNames(item)}}">
			          <span class="container">
			            <iron-icon icon="{{item}}" on-tap="setEditIcon"></iron-icon>
			          </span>
			        </template>
			      </div>
			    </template>
				<paper-button style="float:right" dialog-dismiss>Close</paper-button>
			</paper-dialog>
			
			<paper-dialog with-backdrop on-iron-overlay-opened="_disableDocumentScrolling" on-iron-overlay-closed="_restoreDocumentScrolling" id="papercolorSet">
				
				  <div class="set">
			       <paper-swatch-picker column-count=2 on-tap="setColor"
			       color-list="[&quot;#ffb300&quot;, &quot;#1e88e5&quot;, &quot;#546e7a&quot;, &quot;#6d4c41&quot;, &quot;#00acc1&quot;, &quot;#f4511e&quot;, &quot;#5e35b1&quot;, &quot;#43a047&quot;, &quot;#1b5e20&quot;, &quot;#757575&quot;, &quot;#3949ab&quot;, &quot;#039b35&quot;, &quot;#7cb342&quot;, &quot;#c0ca33&quot;, &quot;#fb8c00&quot;, &quot;#d81b60&quot;, &quot;#8e24aa&quot;, &quot;#e53935&quot;, &quot;#b71c1c&quot;, &quot;#00897b&quot;, &quot;#fdd835&quot;]"></paper-swatch-picker>
			      </div>
			    
				<paper-button style="float:right" dialog-dismiss>Close</paper-button>
			</paper-dialog>
			</paper-material>
	</template>
	</dom-module>
	<project-details></project-details>
	<script>
	
	var username =localStorage.getItem("username");
	var password =localStorage.getItem("password");
	
	Polymer({
	    is: 'project-details',
	    
	    ready : function() {
	    	this.fields=[];
	    	this.tags = [];
	    	this.glossaryFormField=[];
	    	this.glossaries = [];
	    	this.fieldFormGlossaries=[];
	    	this.tagsData = [];
	    	this.fieldsData = [];
	    	this.tableAttributes=[];
	    	this.fieldNames=[];
	    	var obj = {};
	        obj.Authorization = "Basic " + btoa(username+":"+password);
	        this.$.getTags.headers = obj;
	        this.$.getTags.url = backend_url + "projects/"+projectName[1]+"/tags";
	    	this.$.getTags.generateRequest();
	    	
	    	this.$.getFields.headers = obj;
	        this.$.getFields.url = backend_url +"projects/"+projectName[1]+"/fields";
	    	this.$.getFields.generateRequest();
	    	
	    	this.$.tableAttributes.headers = obj;
	    	this.$.tableAttributes.url = backend_url +"projects/"+projectName[1]+"/table_attributes";
	    	this.$.tableAttributes.generateRequest();
	    	
	    	
	    	
	    	this.$.getGlossary.headers = obj;
	    	this.$.getGlossary.url = backend_url +"projects/"+projectName[1]+"/glossaries";
	    	this.$.getGlossary.generateRequest();
	    	
	    	
	    	this.colorSet={
	    			"#ffb300":"var(--paper-amber-600)",
	    			"#1e88e5":"var(--paper-blue-600)",
	    			"#546e7a":"var(--paper-blue-grey-600)",
	    			"#6d4c41":"var(--paper-brown-600)",
	    			"#00acc1":"var(--paper-cyan-600)",
	    			"#f4511e":"var(--paper-deep-orange-600)",
	    			"#5e35b1":"var(--paper-deep-purple-600)",
	    			"#43a047":"var(--paper-green-600)",
	    			"#1b5e20":"var(--paper-green-900)",
	    			"#757575":"var(--paper-grey-600)",
	    			"#3949ab":"var(--paper-indigo-600)",
	    			"#039be5":"var(--paper-light-blue-600)",
	    			"#7cb342":"var(--paper-light-green-600)",
	    			"#c0ca33":"var(--paper-lime-600)",
	    			"#fb8c00":"var(--paper-orange-600)",
	    			"#d81b60":"var(--paper-pink-600)",
	    			"#8e24aa":"var(--paper-purple-600)",
	    			"#e53935":"var(--paper-red-600)",
	    			"#00897b":"var(--paper-teal-600)",
	    			"#fdd835":"var(--paper-yellow-600)"
	    	};
	    	
	    	
	    	this.searchImportance=["1","2","3","4","5","6","7","8","9","10"];
	    	this.show_as_linkArray = ["text","entity"];
	    	this.show_in_resultArray=["header","detail","description","no","title"];
	    	this.type=["string","date","email","hyphenated","location","image","phone", "username"];
	    	this.predefined_extractor_Array=["none","address","country","email","posting_date","phone","review_id","social_media","TLD"];
	    	this.extractionTargetArray=["title_only","description_only","title_and_description"];
	    	this.dataTableValues=[{"attribute":"abc","fieldValue":"country","values":["abc","xyz","pqr"]},
	    	                      {"attribute":"pqr","fieldValue":"","values":["abc","xyz","pqr"]},
	    	                      {"attribute":"xyz","fieldValue":"city","values":["abc","xyz","pqr"]}
	    	                     ];
	    	
	    	
		
	     },
	     _getColor:function() {
	    	 if(this.$$('#colorSelect').color == undefined) return "var(--paper-amber-600)";
	    	 this.$$('#fieldcolorinput').value = this.colorSet[this.$$('#colorSelect').color];
	    	 return this.colorSet[this.$$('#colorSelect').color];
		    	
	    	 
	     },
	     _getEditColor:function() {
	    	 if(this.$$('#colorSelect2').color == undefined) return "var(--paper-amber-600)";
	    	 this.$$('#colorField').value = this.colorSet[this.$$('#colorSelect2').color];
	    	 return this.colorSet[this.$$('#colorSelect2').color];
		    	
	    	 
	     },
	     _getColorSelected:function(color) {
	    	 return Object.keys(this.colorSet).find(key => this.colorSet[key] === color);
	     },
	     _getTableDropDown:function(name) {
	    	 if(name!=undefined && name!="") {
	    	 	 return this.fieldNames.indexOf(name);
	    	 }
	    	 return this.fieldNames.indexOf("none");
	     },
	     _getPredefinedExtractor:function(name) {
	    	 if(name!=undefined && name!="") return this.predefined_extractor_Array.indexOf(name);
	    	 else return 0;
	    	 
	     },
	     _getType:function(name) {
	    	 if(name!=undefined && name!="") return this.type.indexOf(name);
	    	 else 0;
	     },
	     _getExtractorTarget:function(name) {
	    	 if(name!=undefined && name!="") return this.extractionTargetArray.indexOf(name);
	    	 return 2;
	     },
	     _getSearchImportance:function(name){
	    	 if(name!=undefined && name!="") return name-1;
	    	 return 0;
	     },
	     _getResult:function(name) {
	    	 if(name!=undefined && name!="") return this.show_in_resultArray.indexOf(name);
	    	 else return 0;
	     },
	     _getLink:function(name) {
	    	 if(name!=undefined && name!="" && name!="none") return this.show_as_linkArray.indexOf(name);
	    	 else return 0;
	     },
	     convertFileInputToFormData: function(){
	    	 var file = this.$.input.inputElement.files[0];
	    	 this.text="";
	    	 var reader = new FileReader();
	    	    reader.onload = function () {
	    	        this.text = reader.result;	
	    	    };
	    	    reader.readAsText(file);
	     },
	     _itemSelected(e){
	    	 	var obj = {};
		        obj.Authorization = "Basic " + btoa(username+":"+password);
		        var selectedValue = this.$$('#tableFieldInput').selectedItem.value;
		        if(selectedValue =="none") selectedValue="";
	    	 	this.$.updateTableAttribute.headers = obj;
		        this.$.updateTableAttribute.url = backend_url + "projects/"+projectName[1]+"/table_attributes/"+e.model.item[0].name;
		        this.$.updateTableAttribute.body= JSON.stringify({
		        	"field_name": selectedValue,
		        	"info":e.model.item[0].info,
		        	"name":e.model.item[0].name,
		        	"value":e.model.item[0].value
		     	});
		        this.$.updateTableAttribute.generateRequest();
		    	
	    	    
	     },
	     onPresubmit:function(e){
	    	 var form = this.$.form;
	         this.convertFileInputToFormData();
	    	 form.request.body = this.text;
	     },
	     saveFieldGlossaries:function() {
	    	 this.fieldFormGlossaries=[];
	    	 for(var i=0;i<this.glossaries.length;i++) {
	    		 var gloss = this.glossaries[i];
	    		 if(this.$$('#'+gloss).checked) {
	    			 this.fieldFormGlossaries.push(gloss[0]);
	    		 }
	    	 }
	    	 glossariesNewField = this.fieldFormGlossaries;
	    	 EditFieldGlossaries.toggle();
	     },
	     
	     setTableAttributes:function(data) {
	    	 
	    	 this.tableAttributes=[];
	    	 if(data.detail.response.length!=0 && data.detail.response.length!=undefined ) {
		    	 this.tableAttributes = Object.keys(data.detail.response).map(function(e) {
		     		  return [data.detail.response[e]];
		     		});
		    	
		     	this.push('tableAttributes',this.tableAttributes.pop());
		     	
	    	 }
	     },
	    
	     fillTags : function(data) {
	    	 if(data.detail.response.length!=0) {
		    	 this.tags = Object.keys(data.detail.response).map(function(e) {
		     		  return [data.detail.response[e]];
		     		});
		    	
		     	this.push('tags',this.tags.pop());
		     	
	    	 }
	     },
	     fillFields : function(data) {
	    	 if(data.detail.response.length!=0) {
		    	 this.fields = Object.keys(data.detail.response).map(function(e) {
		     		  return [data.detail.response[e]];
		     		});
		    	 
		     	this.push('fields',this.fields.pop());
		     	this.fieldNames = [];
		    	 for(var i=0;i<this.fields.length;i++) {
		    		 this.push('fieldNames',this.fields[i][0].name);
		    	 }
		    	 this.push('fieldNames',"none");
		 	 }
	     },
	     fillGlossary : function(data) {
	    	 
	    	 if(data.detail.response.length!=0) {
	    		 data.detail.response.sort();
		    	 this.glossaries = Object.keys(data.detail.response).map(function(e) {
		     		  return [data.detail.response[e]];
		     		});
		    	 this.push('glossaries',this.glossaries.pop());
	    	 }
	     	
	     },
	     deleteTagsFunction:function(e) {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.deleteTags.headers = obj;
	         this.$.deleteTags.url = backend_url +"projects/"+projectName[1]+"/tags/"+(e.model.item[0].name).split(":")[0];
	     	this.$.deleteTags.generateRequest();
	    	 
	     },
	     editTagFunction:function(e){
	    	 this.tagForm = {};
	    	 var tagName = e.model.item[0].name;
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.editTag.headers = obj;
	         this.$.editTag.url = backend_url + "projects/"+projectName[1]+"/tags/"+tagName;
	         
	         this.$.editTag.generateRequest();
	    	 editTagsDialog.toggle();
	     },
	     updateTag:function(e) {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.updateSavedTags.headers = obj;
	         this.$.updateSavedTags.url = backend_url + "projects/"+projectName[1]+"/tags/"+this.tagForm.name;
	         this.$.updateSavedTags.body = JSON.stringify({
	      		  "tag_name": this.tagForm.name+"",
	       		  "tag_object": {
	       		    "description": this.tagForm.description+"",
	       		    "include_in_menu": this.tagForm.include_in_menu,
	       		    "name": this.tagForm.name+"",
	       		    "negative_class_precision": this.tagForm.negative_class_precision,
	       		    "positive_class_precision": this.tagForm.positive_class_precision,
	       		    "screen_label":this.tagForm.screen_label
	       		  }
	       		});
	         this.$.updateSavedTags.generateRequest();
	         editTagsDialog.toggle();
	     },
	     updateDone:function() {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.getTags.headers = obj;
	         this.$.getTags.url = backend_url + "projects/"+projectName[1]+"/tags";
	     	this.$.getTags.generateRequest();
	     	
	     	this.$.getFields.headers = obj;
	        this.$.getFields.url = backend_url +"projects/"+projectName[1]+"/fields";
	    	this.$.getFields.generateRequest();
	    	
	    	this.$.getGlossary.headers = obj;
	    	this.$.getGlossary.url = backend_url +"projects/"+projectName[1]+"/glossaries";
	    	this.$.getGlossary.generateRequest();
	    	
	    	this.$.tableAttributes.headers = obj;
	    	this.$.tableAttributes.url = backend_url +"projects/"+projectName[1]+"/table_attributes";
	    	this.$.tableAttributes.generateRequest();
	    	
	     	
	     },
	     sureToDeleteDialogFunction:function(e) {
	    	 this.fieldName = e.model.item[0].name;
	    	 sureToDeleteDialog.toggle();
	     },
	     
	     deleteFieldFunction:function() {
	    	 sureToDeleteDialog.toggle();
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.deleteFields.headers = obj;
	         this.$.deleteFields.url = backend_url + "projects/"+projectName[1]+"/fields/"+this.fieldName;
	     	this.$.deleteFields.generateRequest();
	    	 
	     },
	     deleteGlossaryFunction:function(e){
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.deleteGlossaries.headers = obj;
	         this.$.deleteGlossaries.url = backend_url + "projects/"+projectName[1]+"/glossaries/"+(e.model.item[0]).split(":")[0];
	     	this.$.deleteGlossaries.generateRequest();
	     },
	     editFieldFunction:function(e){
	    	 var fieldFormName = e.model.item[0].name;
	    	 
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.editField.headers = obj;
	         this.$.editField.url = backend_url + "projects/"+projectName[1]+"/fields/"+fieldFormName;
	         
	         this.$.editField.generateRequest();
	         
	    	 editFieldsDialog.toggle();
	    	 
	     },
	     editGlossaryFunction:function(e){
	    	 this.glossaryForm = {};
	    	 this.glossaryForm = e.model.item[0];
	    	 editGlossariesDialog.toggle();
	     },
	     updateField:function(e) {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         var predefinedExtr = "";
	         
	         //Save Glossaries
	         this.fieldFormGlossaries=[];
	    	 for(var i=0;i<this.glossaries.length;i++) {
	    		 var gloss = this.glossaries[i];
	    		 if(this.$$('#'+gloss).checked) {
	    			 this.fieldFormGlossaries.push(gloss[0]);
	    		 }
	    	 }
	         
	         
	         
	         if(this.$$('#editfieldpredefinedExtractor').selectedItem) {
	        	 predefinedExtr = this.$$('#editfieldpredefinedExtractor').selectedItem.value;
	         }
	         this.$.updateSavedFields.headers = obj;
	         this.$.updateSavedFields.url = backend_url +"projects/"+projectName[1]+"/fields/"+this.fieldForm.name;
	         if(this.fieldForm.screen_label == "")this.fieldForm.screen_label = this.fieldForm.name;
	         if(this.fieldForm.screen_label_plural == "")this.fieldForm.screen_label_plural = this.fieldForm.screen_label;
	         if(!this.fieldForm.group_name)this.fieldForm.group_name="";
	         this.$.updateSavedFields.body = JSON.stringify({
	      		  "field_name": this.fieldForm.name,
	       		  "field_object": {
	       		    "color":this.fieldForm.color ,
	       		    "combine_fields": this.fieldForm.combine_fields,
	       		    "description": this.fieldForm.description,
	       		    "glossaries": this.fieldFormGlossaries,
	       		    "group_name": this.fieldForm.group_name,
	       		    "icon": this.fieldForm.icon,
	       		    "name": this.fieldForm.name,
	       		    "screen_label": this.fieldForm.screen_label ,
	       		    "screen_label_plural": this.fieldForm.screen_label_plural ,
	       		    "search_importance":parseInt(this.$$('#editSearchImpValue').selectedItem.value),
	       		    "show_as_link": this.$$('#editlinkValue').selectedItem.value,
	       		    "show_in_facets": this.fieldForm.show_in_facets,
	       		    "show_in_result": this.$$('#editResultValue').selectedItem.value,
	       		    "rule_extraction_target":this.$$('#editRuleExtractionTargetValue').selectedItem.value,
	       		    "show_in_search": this.fieldForm.show_in_search,
	       			"rule_extractor_enabled":this.fieldForm.rule_extractor_enabled,
	       		    "type": this.$$('#editTypeValue').selectedItem.value,
	       		    "use_in_network_search": this.fieldForm.use_in_network_search,
	       		    "predefined_extractor":predefinedExtr
	       		  }
	       		});
	         this.$.updateSavedFields.generateRequest();
	         editFieldsDialog.toggle();
	         
	     },
	     inferlink:function() {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.inferlink.headers = obj;
	         var perPage = 0;
	         var extraPage=0;
	         
	         perPage = this.$$('#perPage').value;
	         extraPage = this.$$('#extraPage').value;
	         this.$.inferlink.url = backend_url +"projects/"+projectName[1]+"/actions/get_sample_pages?pages_per_tld="+perPage+"&pages_extra="+extraPage;
	     	 
	         this.$.inferlink.generateRequest();
	     },
	     etk:function() {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.etk.headers = obj;
	          this.$.etk.url = backend_url +"projects/"+projectName[1]+"/actions/extract_and_load_test_data";
	     	 
	         this.$.etk.generateRequest();
	     },
	     publish:function() {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         this.$.publish.headers = obj;
	         
	         this.$.publish.url = backend_url +"projects/"+projectName[1]+"/actions/publish";
	     	 
	         this.$.publish.generateRequest();
	     },
	     done:function(data) {
	    	 modalDialog.open();
	     },
	     successDone:function() {
	    	 modalDialogSuccess.open();
	     },
	     successDoneIndex:function() {
	    	 modalDialogSuccessIndex.open();
	     },
	     deletedGlossary:function() {
	    	 this.glossaries = [];
	     	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         
	         this.$.getFields.headers = obj;
		        this.$.getFields.url = backend_url +"projects/"+projectName[1]+"/fields";
		    	this.$.getFields.generateRequest();
		    	
	        this.$.getGlossary.headers = obj;
	     	this.$.getGlossary.url = backend_url +"projects/"+projectName[1]+"/glossaries";
	     	this.$.getGlossary.generateRequest();
	     },
	     inferlinkGet:function() {
	    	 	
	    	 this.glossaries = [];
	     	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         
	         this.$.getAction1.headers = obj;
	         this.$.getAction1.url = backend_url +"projects/"+projectName[1]+"/actions/get_sample_pages";
		     this.$.getAction1.generateRequest();
	         
	     },
	     getTLDInferlink:function(data) {
	    	 this.tldResponse = [];
	    	 this.tldResponse = Object.keys(data.detail.response).map(function(e) {
	     		  return [e,data.detail.response[e]];
	     		});
	    	 if(this.tldResponse) showTLDsDialog.toggle();
	     },
	     etkStatus:function() {
	    	 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         

	         this.$.etkGet.headers = obj;
	         this.$.etkGet.url = backend_url +"projects/"+projectName[1]+"/actions/extract_and_load_test_data";
	         this.async(function() {
	        	 this.$.etkGet.generateRequest();
	           }, 2000);
	         
	         
	     },
	     etkdetails:function(data) {
	    	 this.etkFields=[];
	    	 this.etkFields = data.detail.response;
	    	 if(this.etkFields.is_running != false) etkStatus();
	     },
	     _disableDocumentScrolling: function() {
	    	  document.body.style.overflow = 'hidden';
	    	},
   	_restoreDocumentScrolling: function() {
   		  document.body.style.overflow = '';
   		},
		getFieldGlossary:function() {
			EditFieldGlossaries.toggle();
			 for(var j=0;j<this.glossaries.length;j++){
  				 this.$$('#'+this.glossaries[j][0]).checked ="";
  			 
	  		 }
	  			 if(this.fieldForm) {
	  				 if(this.fieldForm.glossaries) {
	  		    	 	for(var i=0;i<this.fieldForm.glossaries.length;i++){
	  		    		 for(var j=0;j<this.glossaries.length;j++){
	  		    			 if(this.fieldForm.glossaries[i] == this.glossaries[j][0]) {
	  		    				 this.$$('#'+this.glossaries[j][0]).checked ="true";
	  		    				 break;
	  		    			 } 
	  		    		 }
	  		    		 
	  		    	 	}
	  				 }
  	    	      } 
	  			 
	  			if(this.fieldFormGlossaries) {
	  				 	for(var i=0;i<this.fieldFormGlossaries.length;i++){
	  		    		 for(var j=0;j<this.glossaries.length;j++){
	  		    			 if(this.fieldFormGlossaries[i] == this.glossaries[j][0]) {
	  		    				 this.$$('#'+this.glossaries[j][0]).checked ="true";
	  		    				 break;
	  		    			 } 
	  		    		 }
	  		    		 
	  		    	 	}
	  				 
 	    	      } 
		    	 
	  			 
  			 
  		},
   		
   		getFieldGlossariesForAdd:function() {
   			EditFieldGlossaries.toggle();
   			 
	    	 if(glossariesNewField) {
				 	for(var i=0;i<glossariesNewField.length;i++){
		    		 for(var j=0;j<this.glossaries.length;j++){
		    			 if(glossariesNewField[i] == this.glossaries[j][0]) {
		    				 this.$$('#'+this.glossaries[j][0]).checked ="true";
		    				 break;
		    			 } 
		    		 }
		    		 
		    	 	}
				 
  	         } else {
  	        	glossariesNewField=[];
  		    	for(var i=0;i<this.glossaries.length;i++) {
  		    		 var gloss = this.glossaries[i];
  		    		 if(this.$$('#'+gloss).checked) {
  		    			 glossariesNewField.push(gloss[0]);
  		    		 }
  		    	 }
  	         }
   		},
   		updateToNewIndex:function() {
   			 var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         
	         this.$.updateIndex.headers = obj;
	         this.$.updateIndex.url = backend_url +"projects/"+projectName[1]+"/actions/update_to_new_index";
		     this.$.updateIndex.generateRequest();
   		},
   		
   		getIconNames : function(iconset) {
   	      return iconset.getIconNames();
   		},
   		downloadGlossaryFunction:function(e) {
   			 
	         var request = new XMLHttpRequest();
		     var url = backend_url  +"projects/"+projectName[1]+"/glossaries/"+e.model.item[0];
		   	
		     request.open("GET", url);
		     request.setRequestHeader("Content-type", "text/plain");
			  
			 request.setRequestHeader("Authorization", "Basic " + btoa(username+":"+password));
				
			   	request.onreadystatechange = function () {
					    if (request.readyState === 4 && request.status === 200) {
					    	request.responseText = request.responseText.replace(/[^a-zA-Z0-9]|%0A/gmi, "*");
					    	 var element = document.createElement('a');
					   		  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + request.responseText);
					   		  element.setAttribute('download', request.getResponseHeader("Content-Disposition").split("=")[1].split(".")[0]);

					   		  element.style.display = 'none';
					   		  document.body.appendChild(element);
					   		  element.click();

					   		  document.body.removeChild(element);
					   }
					};
				
				 request.send();
	         
   		},
   		editRules:function(e) {
   			var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         
	         this.$.editSpacyRules.headers = obj;
	         this.$.editSpacyRules.url = backend_url +"projects/"+projectName[1]+"/fields/"+this.fieldForm.name+"/spacy_rules?type=all";
		     this.$.editSpacyRules.generateRequest();
		     spacyRulesDialog.toggle();
   			
   		},
   		fieldSpacyRules:function(data) {
   			this.spacyRules = [];
   			this.$$('#spacyRulesTextArea').value=JSON.stringify(data.detail.response);
   		},
   		updateFieldSpacyRules:function(){
   			var obj = {};
	         obj.Authorization = "Basic " + btoa(username+":"+password);
	         
	         this.$.updateSpacyRules.headers = obj;
	         this.$.updateSpacyRules.url = backend_url +"projects/"+projectName[1]+"/fields/"+this.fieldForm.name+"/spacy_rules";
	         
	         this.$.updateSpacyRules.body = (this.$$('#spacyRulesTextArea').value);
		     this.$.updateSpacyRules.generateRequest();
		     spacyRulesDialog.toggle();
   			
   		},
   		showSpacyRuleDummy:function(){
   			this.$$('#spacyRulesTextArea').value='{"rules": [],"test_text": "string"}';
   		},
   		setIcon:function(e) {
   			this.$$('#fieldiconinput').value = e.model.item;
   			papericonSet.toggle();
   			
   		},
   		setEditIcon:function(e) {
   			this.$$('#iconField').value=e.model.item;
   			papericonEditSet.toggle();
   		},
   		setEditFieldForm:function(data) {
   			this.fieldFormGlossaries=[];
   			this.fieldForm=[];
   			this.fieldForm = data.detail.response;
   			for(var j=0;j<this.glossaries.length;j++){
 				 this.$$('#'+this.glossaries[j][0]).checked ="";
 			 
	  		 }
	  			 if(this.fieldForm) {
	  				 if(this.fieldForm.glossaries) {
	  		    	 	for(var i=0;i<this.fieldForm.glossaries.length;i++){
	  		    		 for(var j=0;j<this.glossaries.length;j++){
	  		    			 if(this.fieldForm.glossaries[i] == this.glossaries[j][0]) {
	  		    				 this.$$('#'+this.glossaries[j][0]).checked ="true";
	  		    				 break;
	  		    			 } 
	  		    		 }
	  		    		 
	  		    	 	}
	  				 }
 	    	      } 
   			
   		},
   		addNewFieldSetup:function() {
   			addFieldDialog.toggle();
		    	glossariesNewField=[];
		    	this.$$("#fieldnameinput").value="";
		    	this.$$("#fielddescriptioninput").value="";
		    	this.$$("#fieldscreenlabelinput").value="";
		    	this.$$("#fieldscreenlabelPluralinput").value="";
		    	this.$$("#fieldcolorinput").value="var(--paper-amber-600)";
		   		
		   		
		    	this.$$("#fieldgroupnameinput").value="";
		    	this.$$("#fieldiconinput").value="icons:default";
		    	this.$$("#fieldsearchinput").selected="0";
		    	this.$$("#fieldtypeinput").selected="0";
		    	this.$$("#fieldRuleExtractor").checked=false;
		    	this.$$("#fieldpredefinedExtractor").selected="0";
		   		
		    	this.$$("#fieldcombinedfieldsinput").checked=false;
		    	this.$$("#fieldfacetinput").checked=false;
		    	this.$$("#fieldlinkinput").selected="0";
		    	this.$$("#fieldresultinput").selected="0";
		    	this.$$("#fieldsearchinput2").checked=false;
		    	this.$$("#fieldnetworkinput").checked=false;
		    	this.$$("#fieldRuleExtractorTarget").selected="2";
   		},
   		saveTempGlossaries:function() {
   			this.fieldFormGlossaries=[];
   			glossariesNewField=[];
	    	 for(var i=0;i<this.glossaries.length;i++) {
	    		 var gloss = this.glossaries[i];
	    		 if(this.$$('#'+gloss).checked) {
	    			 this.fieldFormGlossaries.push(gloss[0]);
	    		 }
	    	 }
	    	 glossariesNewField = this.fieldFormGlossaries;
   		}
   		
   		  
   	
	     
	    
	    });
	</script>